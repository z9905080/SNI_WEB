(function(e){function t(t){for(var i,o,r=t[0],l=t[1],c=t[2],d=0,p=[];d<r.length;d++)o=r[d],n[o]&&p.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(i=!1)}i&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var i={},n={app:0},s=[];function o(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=i,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/client/dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0231":function(e,t,a){"use strict";var i=a("d009"),n=a.n(i);n.a},"034f":function(e,t,a){"use strict";var i=a("64a9"),n=a.n(i);n.a},"15e4":function(e,t,a){},"15f1":function(e,t,a){},"1bb4":function(e,t,a){"use strict";var i=a("708e"),n=a.n(i);n.a},"235f":function(e,t,a){},"33a0":function(e,t,a){},"36b2":function(e,t,a){},"37aa":function(e,t,a){"use strict";var i=a("15e4"),n=a.n(i);n.a},"3d4e":function(e,t,a){},"463f":function(e,t,a){e.exports=a.p+"assets/img/404.04adb9b4.gif"},"522a":function(e,t,a){"use strict";var i=a("bbf7"),n=a.n(i);n.a},"56c8":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],o=a("a4bb"),r=a.n(o),l=a("7618"),c={name:"app",components:{},created:function(){},methods:{isEmpty:function(e){return void 0===e||null===e||"object"===Object(l["a"])(e)&&0===r()(e).length||"string"===typeof e&&0===e.trim().length}}},u=c,d=(a("034f"),a("2877")),p=Object(d["a"])(u,n,s,!1,null,null,null),m=p.exports,f=a("2b27"),g=a.n(f),h=a("5c96"),b=a.n(h),_=(a("0fae"),a("bc3a")),v=a.n(_),w=a("8c4f"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"index"},[a("HeadNav"),a("LeftMenu"),a("div",{staticClass:"rightContainer"},[a("router-view")],1)],1)},x=[],k=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",{staticClass:"head-nav"},[i("el-row",[i("el-col",{staticClass:"logo-container",attrs:{span:6}},[i("img",{staticClass:"logo",attrs:{src:a("cf05")}}),i("span",{staticClass:"title"},[e._v("生長之家後台管理系統")])]),i("el-col",{staticClass:"user",attrs:{span:6}},[i("div",{staticClass:"userinfo"},[i("img",{staticClass:"avatar",attrs:{src:e.user.avatar}}),i("div",{staticClass:"welcome"},[i("p",{staticClass:"name comename"},[e._v("歡迎")]),i("p",{staticClass:"name avatarname"},[e._v(e._s(e.user.name))])]),i("span",{staticClass:"username"},[i("el-dropdown",{attrs:{trigger:"click"},on:{command:e.setDialogInfo}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"info"}},[e._v("個人資訊")]),i("el-dropdown-item",{attrs:{command:"logout"}},[e._v("登出")])],1)],1)],1)])])],1)],1)},$=[],D={name:"haed-nav",computed:{user:function(){return this.$store.getters.user}},methods:{setDialogInfo:function(e){switch(e){case"info":this.showInfoList();break;case"logout":this.logout();break;default:break}},showInfoList:function(){this.$router.push("/infoshow")},logout:function(){localStorage.removeItem("eleToken"),this.$store.dispatch("clearCurrentState"),this.$router.push("/login")}}},C=D,S=(a("c932"),Object(d["a"])(C,k,$,!1,null,"00dc640b",null)),T=S.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"menu_page"},[a("el-col",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{mode:"vertical","background-color":"#324057","text-color":"#fff","active-text-color":"#409eff"}},[a("router-link",{attrs:{to:"/home"}},[a("el-menu-item",{attrs:{index:"0"}},[a("i",{staticClass:"fa fa-margin fa-server"}),a("span",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e._v("首頁")])])],1),e._l(e.items,function(t){return[t.children?a("el-submenu",{key:t.path,attrs:{index:t.path}},[a("template",{slot:"title"},[a("i",{class:"fa fa-margin "+t.icon}),a("span",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._l(t.children,function(t,i){return a("router-link",{key:i,attrs:{to:t.path}},[a("el-menu-item",{attrs:{index:t.path}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])],1)})],2):e._e()]})],2)],1)],1)},z=[],U={name:"leftmenu",data:function(){return{items:[{icon:"far fa-bookmark",name:"頁籤&內文管理",path:"navpage",children:[{path:"/navpageedit",name:"頁籤列表&編輯"}]},{icon:"fas fa-image",name:"輪播圖設定",path:"slider",children:[{path:"/slider",name:"圖片管理"},{path:"/carousel",name:"輪播圖列表"}]},{icon:"fas fa-audio-description",name:"跑馬燈設定",path:"marquee",children:[{path:"/marquee",name:"跑馬燈設定"}]}]}}},O=U,j=(a("cd31"),Object(d["a"])(O,E,z,!1,null,"ce75c89c",null)),I=j.exports,P={name:"index",components:{HeadNav:T,LeftMenu:I}},A=P,q=(a("0231"),Object(d["a"])(A,y,x,!1,null,"272fceee",null)),G=q.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"register"},[a("section",{staticClass:"form_container"},[a("div",{staticClass:"manage_tip"},[a("span",{staticClass:"title"},[e._v("生長之家後台管理系統")]),a("el-form",{ref:"registerForm",staticClass:"registerForm",attrs:{model:e.registerUser,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用戶名",prop:"name"}},[a("el-input",{attrs:{type:"text",placeholder:"請輸入用戶名"},model:{value:e.registerUser.name,callback:function(t){e.$set(e.registerUser,"name",t)},expression:"registerUser.name"}})],1),a("el-form-item",{attrs:{label:"郵件地址",prop:"email"}},[a("el-input",{attrs:{type:"text",placeholder:"請輸入email"},model:{value:e.registerUser.email,callback:function(t){e.$set(e.registerUser,"email",t)},expression:"registerUser.email"}})],1),a("el-form-item",{attrs:{label:"密碼",prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"請輸入密碼"},model:{value:e.registerUser.password,callback:function(t){e.$set(e.registerUser,"password",t)},expression:"registerUser.password"}})],1),a("el-form-item",{attrs:{label:"確認密碼",prop:"password2"}},[a("el-input",{attrs:{type:"password",placeholder:"請確認密碼"},model:{value:e.registerUser.password2,callback:function(t){e.$set(e.registerUser,"password2",t)},expression:"registerUser.password2"}})],1),a("el-form-item",{attrs:{label:"選擇身分"}},[a("el-select",{staticClass:"identity_select",attrs:{placeholder:"請選擇身分"},model:{value:e.registerUser.identity,callback:function(t){e.$set(e.registerUser,"identity",t)},expression:"registerUser.identity"}},[a("el-option",{attrs:{label:"管理者",value:"admin"}}),a("el-option",{attrs:{label:"一般使用者",value:"user"}})],1)],1),a("el-form-item",[a("el-button",{staticClass:"submit_btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("registerForm")}}},[e._v("註冊")])],1)],1)],1)])])},R=[],N={name:"register",components:{},data:function(){var e=this,t=function(t,a,i){a!==e.registerUser.password?i(new Error("两次输入密码不一致!")):i()};return{registerUser:{name:"",email:"",password:"",password2:"",identity:""},rules:{name:[{required:!0,message:"用戶名不可為空",trigger:"blur"},{min:2,max:30,message:"長度在2到30個字之間",trigger:"blur"}],email:[{type:"email",required:!0,message:"信箱格式不正確",trigger:"blur"}],password:[{required:!0,message:"密碼不可為空",trigger:"blur"},{min:6,max:30,message:"長度在6到30個字之間",trigger:"blur"}],password2:[{required:!0,message:"確認密碼不可為空",trigger:"blur"},{min:6,max:30,message:"長度在6到30個字之間",trigger:"blur"},{validator:t,trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$axios.post("/api/users/register",t.registerUser).then(function(e){t.$message({message:"帳號註冊成功!",type:"success"})}).catch(function(e){}),t.$router.push("/login")})},resetForm:function(e){this.$refs[e].resetFields()}}},M=N,L=(a("87bc"),Object(d["a"])(M,F,R,!1,null,"a0a89c68",null)),Y=L.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("section",{staticClass:"form_container"},[a("div",{staticClass:"manage_tip"},[a("span",{staticClass:"title"},[e._v("生長之家後台管理系統")]),a("el-form",{ref:"loginForm",staticClass:"loginForm",attrs:{model:e.loginUser,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"帳號",prop:"account"}},[a("el-input",{attrs:{type:"text",placeholder:"請輸入帳號"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("loginForm")}},model:{value:e.loginUser.account,callback:function(t){e.$set(e.loginUser,"account",t)},expression:"loginUser.account"}})],1),a("el-form-item",{attrs:{label:"密碼",prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"請輸入密碼"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("loginForm")}},model:{value:e.loginUser.password,callback:function(t){e.$set(e.loginUser,"password",t)},expression:"loginUser.password"}})],1),a("el-form-item",[a("el-button",{staticClass:"submit_btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("loginForm")}}},[e._v("登入")])],1),a("div",{staticClass:"tiparea"},[a("p",[e._v("\n            還沒有帳號? 現在\n            "),a("router-link",{attrs:{to:"/register"}},[e._v("註冊")])],1)])],1)],1)])])},B=[],J=(a("a481"),a("f499")),K=a.n(J),Q={name:"login",components:{},data:function(){return{loginUser:{account:"",password:""},rules:{password:[{required:!0,message:"密碼不可為空",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.$axios.post("https://sniweb.shouting.feedia.co/php/Login.php",K()(t.loginUser)).then(function(e){if(e.data){var a=e.data,i=a.token,n=a.expire_time,s=new Date(Date.parse(n.replace(/-/g,"/")));t.$cookies.set("sid",i,s),t.$router.push("/index"),t.$message({message:"歡迎進入系統",type:"success"})}else t.$message({message:"帳號或密碼輸入錯誤，請重新輸入",type:"error"})})})},isEmpty:function(e){return void 0===e||null===e||"object"===Object(l["a"])(e)&&0===r()(e).length||"string"===typeof e&&0===e.trim().length}}},V=Q,W=(a("5ed1"),Object(d["a"])(V,H,B,!1,null,"ac4ab130",null)),X=W.exports,Z=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ee=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"notfound"},[i("img",{attrs:{src:a("463f"),alt:""}})])}],te=(a("d300"),{}),ae=Object(d["a"])(te,Z,ee,!1,null,"03c33284",null),ie=ae.exports,ne=a("bb51"),se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"infoshow"},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"user"},[a("img",{staticClass:"avatar",attrs:{src:e.user.avatar}})])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"userinfo"},[a("div",{staticClass:"user-item"},[a("i",{staticClass:"fa fa-user"}),a("span",[e._v(e._s(e.user.name))])]),a("div",{staticClass:"user-item"},[a("i",{staticClass:"fa fa-cog"}),a("span",[e._v(e._s("admin"==e.user.identity?"管理員":"一般使用者"))])])])])],1)],1)},oe=[],re={name:"infoshow",computed:{user:function(){return this.$store.getters.user}}},le=re,ce=(a("847d"),Object(d["a"])(le,se,oe,!1,null,"3b1a5316",null)),ue=ce.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fillcontain"},[a("div",[a("el-form",{ref:"add_data",attrs:{inline:!0,model:e.search_data}},[a("el-form-item",{attrs:{label:"按照時間篩選"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择開始时间"},model:{value:e.search_data.startTime,callback:function(t){e.$set(e.search_data,"startTime",t)},expression:"search_data.startTime"}}),e._v(" --\n        "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择結束时间"},model:{value:e.search_data.endTime,callback:function(t){e.$set(e.search_data,"endTime",t)},expression:"search_data.endTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",icon:"search"},on:{click:function(t){return e.handleSearch()}}},[e._v("篩選")])],1),a("el-form-item",{staticClass:"btnRight"},["admin"===e.user.identity?a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.handleAdd()}}},[e._v("新增文章")]):e._e()],1)],1)],1),a("div",{staticClass:"table-container"},[e.tableData.length>0?a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"max-height":"1000"}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"date",label:"創建時間",width:"320",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.date))])]}}],null,!1,3904736537)}),a("el-table-column",{attrs:{prop:"type",label:"文章類型",align:"center",width:"150"}}),a("el-table-column",{attrs:{prop:"describe",label:"標題描述",align:"center",width:"490"}}),a("el-table-column",{attrs:{prop:"remark",label:"備註",align:"center",width:"300"}}),"admin"===e.user.identity?a("el-table-column",{attrs:{prop:"operation",align:"center",label:"操作",width:"320"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",icon:"el-icon-edit",size:"small"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}],null,!1,3799163010)}):e._e()],1):e._e(),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.paginations.page_index,"page-sizes":e.paginations.page_sizes,"page-size":e.paginations.page_size,layout:e.paginations.layout,total:e.paginations.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.paginations,"page_index",t)},"update:current-page":function(t){return e.$set(e.paginations,"page_index",t)}}})],1)])],1)],1)])},pe=[],me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"article-dialog"},[a("el-dialog",{attrs:{title:e.dialog.title,visible:e.dialog.show,"close-on-click-modal":!1,"close-on-press-escape":!1,"modal-append-to-body":!1},on:{"update:visible":function(t){return e.$set(e.dialog,"show",t)}}},[a("div",{staticClass:"form"},[a("el-form",{ref:"form",staticStyle:{margin:"10px",width:"auto"},attrs:{model:e.formData,rules:e.form_rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"文章類型:"}},[a("el-select",{attrs:{placeholder:"文章類型"},model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.format_type_list,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1),a("el-form-item",{attrs:{prop:"describe",label:"標題描述:"}},[a("el-input",{attrs:{type:"describe"},model:{value:e.formData.describe,callback:function(t){e.$set(e.formData,"describe",t)},expression:"formData.describe"}})],1),a("el-form-item",{attrs:{prop:"remark",label:"備註:"}},[a("el-input",{attrs:{type:"remark"},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1),a("el-form-item",{staticClass:"text_right"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.dialog.show=!1}}},[e._v("取消")])],1)],1)],1)])],1)},fe=[],ge={name:"dialog",data:function(){return{format_type_list:["運動","財金","娛樂","政治","社會","國際"],form_rules:{describe:[{required:!0,message:"標題描述不能为空！",trigger:"blur"}]}}},props:{dialog:Object,formData:Object},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var a="add"===t.dialog.option?"add":"edit/".concat(t.formData.id);t.$axios.post("/api/acticles/".concat(a),t.formData).then(function(e){t.$message({message:"add"===t.dialog.option?"資料添加成功":"資料編輯成功",type:"success"}),t.dialog.show=!1,t.$emit("update")})}})}}},he=ge,be=Object(d["a"])(he,me,fe,!1,null,"599bed60",null),_e=be.exports,ve={name:"fundlist",components:{"article-dialog":_e},data:function(){return{search_data:{startTime:"",endTime:""},filterTableData:[],paginations:{page_index:1,total:0,page_size:15,page_sizes:[15,20,25,30],layout:"total, sizes, prev, pager, next, jumper"},tableData:[],allTableData:[],formData:{type:"",describe:"",income:"",expend:"",cash:"",remark:"",id:""},dialog:{show:!1,title:"",option:"edit"}}},computed:{user:function(){return this.$store.getters.user}},created:function(){this.getProfile()},methods:{getProfile:function(){var e=this;this.$axios.get("https://sniweb.shouting.feedia.co/php/GetContent.php").then(function(t){e.allTableData=t.data,e.filterTableData=t.data,e.setPaginations()}).catch(function(e){return console.log(e)})},setPaginations:function(){var e=this;this.paginations.total=this.allTableData.length,this.paginations.page_index=1,this.paginations.page_size=15,this.tableData=this.allTableData.filter(function(t,a){return a<e.paginations.page_size})},handleEdit:function(e,t){this.dialog={show:!0,title:"修改資金信息",option:"edit"},this.formData={type:t.type,describe:t.describe,income:t.income,expend:t.expend,cash:t.cash,remark:t.remark,id:t._id}},handleDelete:function(e,t){var a=this;this.$axios.delete("/api/acticles/delete/".concat(t._id)).then(function(e){a.$message("資料刪除成功"),a.getProfile()}).catch(function(e){return console.log("資料刪除失敗(".concat(e,")"))})},handleAdd:function(){this.$router.push("/edit")},handleSizeChange:function(e){this.paginations.page_index=1,this.paginations.page_size=e,this.tableData=this.allTableData.filter(function(t,a){return a<e})},handleCurrentChange:function(e){for(var t=this.paginations.page_size*(e-1),a=this.paginations.page_size*e,i=[],n=t;n<a;n++)this.allTableData[n]&&i.push(this.allTableData[n]),this.tableData=i},handleSearch:function(){if(!this.search_data.startTime||!this.search_data.endTime)return this.$message({type:"warning",message:"請選擇時間區間"}),void this.getProfile();var e=this.search_data.startTime.getTime(),t=this.search_data.endTime.getTime();this.allTableData=this.filterTableData.filter(function(a){var i=new Date(a.date),n=i.getTime();return n>=e&&n<=t}),this.setPaginations()}}},we=ve,ye=(a("f2e0"),Object(d["a"])(we,de,pe,!1,null,"023f7351",null)),xe=ye.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fillcontain"},[a("div",[a("el-form",{ref:"add_data",attrs:{inline:!0,model:e.search_data}},[a("el-form-item",{attrs:{label:"按照時間篩選"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择開始时间"},model:{value:e.search_data.startTime,callback:function(t){e.$set(e.search_data,"startTime",t)},expression:"search_data.startTime"}}),e._v(" --\n        "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择結束时间"},model:{value:e.search_data.endTime,callback:function(t){e.$set(e.search_data,"endTime",t)},expression:"search_data.endTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small",icon:"search"},on:{click:function(t){return e.handleSearch()}}},[e._v("篩選")])],1),a("el-form-item",{staticClass:"btnRight"},["admin"===e.user.identity?a("el-button",{attrs:{type:"primary",size:"small",icon:"view"},on:{click:function(t){return e.handleAdd()}}},[e._v("添加")]):e._e()],1)],1)],1),a("div",{staticClass:"table-container"},[e.tableData.length>0?a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"max-height":"1200"}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"70"}}),a("el-table-column",{attrs:{prop:"date",label:"創建時間",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.date))])]}}],null,!1,3904736537)}),a("el-table-column",{attrs:{prop:"type",label:"收支类型",align:"center",width:"150"}}),a("el-table-column",{attrs:{prop:"describe",label:"收支描述",align:"center",width:"180"}}),a("el-table-column",{attrs:{prop:"income",label:"收入",align:"center",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#00d053"}},[e._v("+ "+e._s(t.row.income))])]}}],null,!1,2743434154)}),a("el-table-column",{attrs:{prop:"expend",label:"支出",align:"center",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#f56767"}},[e._v("- "+e._s(t.row.expend))])]}}],null,!1,4153683084)}),a("el-table-column",{attrs:{prop:"cash",label:"账户现金",align:"center",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{color:"#4db3ff"}},[e._v(e._s(t.row.cash))])]}}],null,!1,98228131)}),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center",width:"220"}}),"admin"===e.user.identity?a("el-table-column",{attrs:{prop:"operation",align:"center",label:"操作",width:"320"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",icon:"edit",size:"small"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"delete",size:"small"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}],null,!1,407764262)}):e._e()],1):e._e(),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.paginations.page_index,"page-sizes":e.paginations.page_sizes,"page-size":e.paginations.page_size,layout:e.paginations.layout,total:e.paginations.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.paginations,"page_index",t)},"update:current-page":function(t){return e.$set(e.paginations,"page_index",t)}}})],1)])],1)],1),a("fund-dialog",{attrs:{dialog:e.dialog,formData:e.formData},on:{update:e.getProfile}})],1)},$e=[],De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fund-dialog"},[a("el-dialog",{attrs:{title:e.dialog.title,visible:e.dialog.show,"close-on-click-modal":!1,"close-on-press-escape":!1,"modal-append-to-body":!1},on:{"update:visible":function(t){return e.$set(e.dialog,"show",t)}}},[a("div",{staticClass:"form"},[a("el-form",{ref:"form",staticStyle:{margin:"10px",width:"auto"},attrs:{model:e.formData,rules:e.form_rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"收支類型:"}},[a("el-select",{attrs:{placeholder:"收支類型"},model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.format_type_list,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1),a("el-form-item",{attrs:{prop:"describe",label:"收支描述:"}},[a("el-input",{attrs:{type:"describe"},model:{value:e.formData.describe,callback:function(t){e.$set(e.formData,"describe",t)},expression:"formData.describe"}})],1),a("el-form-item",{attrs:{prop:"income",label:"收入:"}},[a("el-input",{attrs:{type:"income"},model:{value:e.formData.income,callback:function(t){e.$set(e.formData,"income",t)},expression:"formData.income"}})],1),a("el-form-item",{attrs:{prop:"expend",label:"支出:"}},[a("el-input",{attrs:{type:"expend"},model:{value:e.formData.expend,callback:function(t){e.$set(e.formData,"expend",t)},expression:"formData.expend"}})],1),a("el-form-item",{attrs:{prop:"cash",label:"帳戶現金:"}},[a("el-input",{attrs:{type:"cash"},model:{value:e.formData.cash,callback:function(t){e.$set(e.formData,"cash",t)},expression:"formData.cash"}})],1),a("el-form-item",{attrs:{prop:"remark",label:"備註:"}},[a("el-input",{attrs:{type:"remark"},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1),a("el-form-item",{staticClass:"text_right"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.dialog.show=!1}}},[e._v("取消")])],1)],1)],1)])],1)},Ce=[],Se={name:"dialog",data:function(){return{format_type_list:["提现","提现手续费","充值","优惠券","充值礼券","转账"],form_rules:{describe:[{required:!0,message:"收支描述不能为空！",trigger:"blur"}],income:[{required:!0,message:"收入不能为空！",trigger:"blur"}],expend:[{required:!0,message:"支出不能为空！",trigger:"blur"}],cash:[{required:!0,message:"账户不能为空！",trigger:"blur"}]}}},props:{dialog:Object,formData:Object},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var a="add"===t.dialog.option?"add":"edit/".concat(t.formData.id);t.$axios.post("/api/profiles/".concat(a),t.formData).then(function(e){t.$message({message:"add"===t.dialog.option?"資料添加成功":"資料編輯成功",type:"success"}),t.dialog.show=!1,t.$emit("update")})}})}}},Te=Se,Ee=Object(d["a"])(Te,De,Ce,!1,null,"225077fa",null),ze=Ee.exports,Ue={name:"fundlist",components:{"fund-dialog":ze},data:function(){return{search_data:{startTime:"",endTime:""},filterTableData:[],paginations:{page_index:1,total:0,page_size:15,page_sizes:[15,20,25,30],layout:"total, sizes, prev, pager, next, jumper"},tableData:[],allTableData:[],formData:{type:"",describe:"",income:"",expend:"",cash:"",remark:"",id:""},dialog:{show:!1,title:"",option:"edit"}}},computed:{user:function(){return this.$store.getters.user}},created:function(){this.getProfile()},methods:{getProfile:function(){var e=this;this.$axios.get("/api/profiles").then(function(t){e.allTableData=t.data,e.filterTableData=t.data,e.setPaginations()}).catch(function(e){return console.log(e)})},setPaginations:function(){var e=this;this.paginations.total=this.allTableData.length,this.paginations.page_index=1,this.paginations.page_size=15,this.tableData=this.allTableData.filter(function(t,a){return a<e.paginations.page_size})},handleEdit:function(e,t){this.dialog={show:!0,title:"修改資金信息",option:"edit"},this.formData={type:t.type,describe:t.describe,income:t.income,expend:t.expend,cash:t.cash,remark:t.remark,id:t._id}},handleDelete:function(e,t){var a=this;this.$axios.delete("/api/profiles/delete/".concat(t._id)).then(function(e){a.$message("資料刪除成功"),a.getProfile()}).catch(function(e){return console.log("資料刪除失敗(".concat(e,")"))})},handleAdd:function(){this.dialog={show:!0,title:"新增資金信息",option:"add"},this.formData={type:"",describe:"",income:"",expend:"",cash:"",remark:"",id:""}},handleSizeChange:function(e){this.paginations.page_index=1,this.paginations.page_size=e,this.tableData=this.allTableData.filter(function(t,a){return a<e})},handleCurrentChange:function(e){for(var t=this.paginations.page_size*(e-1),a=this.paginations.page_size*e,i=[],n=t;n<a;n++)this.allTableData[n]&&i.push(this.allTableData[n]),this.tableData=i},handleSearch:function(){if(!this.search_data.startTime||!this.search_data.endTime)return this.$message({type:"warning",message:"請選擇時間區間"}),void this.getProfile();var e=this.search_data.startTime.getTime(),t=this.search_data.endTime.getTime();this.allTableData=this.filterTableData.filter(function(a){var i=new Date(a.date),n=i.getTime();return n>=e&&n<=t}),this.setPaginations()}}},Oe=Ue,je=(a("fea6"),Object(d["a"])(Oe,ke,$e,!1,null,"2cafcdce",null)),Ie=je.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"form"},[a("el-form",{ref:"form",staticStyle:{margin:"30px",width:"auto"},attrs:{"label-width":"120px"}},[a("h2",{staticStyle:{"font-weight":"bold","margin-bottom":"10px","font-size":"20px"}},[e._v("內文標題:")]),a("el-input",{staticClass:"title",attrs:{placeholder:"請輸入標題",required:"true"},model:{value:e.page_content.page_name,callback:function(t){e.$set(e.page_content,"page_name",t)},expression:"page_content.page_name"}}),a("editor",{key:e.tinymceFlag,attrs:{id:"tinymceEditor",init:e.tinymceInit},model:{value:e.page_content.html_context,callback:function(t){e.$set(e.page_content,"html_context",t)},expression:"page_content.html_context"}}),a("el-upload",{ref:"imageUpload",staticClass:"upload-demo",staticStyle:{display:"none"},attrs:{action:e.imageUrl,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!0,multiple:"","on-success":e.insertImage}}),a("el-form-item",{staticClass:"text_right"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.onCancel()}}},[e._v("取消")])],1)],1)],1)])},Ae=[],qe=(a("7f7f"),a("28a5"),a("e562")),Ge=a.n(qe),Fe=(a("030f"),a("9917")),Re=(a("34de"),a("0902"),a("07d1"),a("4ea8"),a("3aea"),a("4237"),a("84ec"),a("bc54"),a("0a9d"),a("3154"),{name:"TinymceEditor",components:{editor:Fe["a"]},data:function(){return{url:"",imageUrl:"https://sniweb.shouting.feedia.co/php/PictureUpload.php?sid=".concat(window.$cookies.get("sid")),tinymceFlag:1,id:"",tinymceInit:{},page_content:{html_context:"",id:"",page_group_id:"",page_name:""},fileList:[]}},methods:{insertImage:function(e,t){var a="https://sniweb.shouting.feedia.co/php/".concat(t.response.url);Ge.a.execCommand("mceInsertContent",!1,"<img src=".concat(a,">"))},getPageContent:function(){var e=this;if(this.url=location.href,-1!==this.url.indexOf("/navpageedit/edit/")){var t=this.url.split("/navpageedit/edit/");this.id=t[t.length-1],this.$axios.post("https://sniweb.shouting.feedia.co/php/GetContent.php?page_id=".concat(this.id)).then(function(t){e.page_content=t.data,e.page_content.page_id=t.data.id}).catch(function(e){return console.log(e)})}else this.page_content.page_group_id=this.$route.params.page_group_id},onSubmit:function(){var e=this,t=-1!==this.url.indexOf("/navpageedit/edit/"),a=t?"EditContent":"AddContent";this.$axios.post("https://sniweb.shouting.feedia.co/php/".concat(a,".php?sid=").concat(window.$cookies.get("sid")),K()(this.page_content)).then(function(t){"Y"===t.data.status?(e.$message({message:t.data.message,type:"success"}),e.$emit("update"),e.$router.push("/navpageedit")):e.$message({message:t.data.message,type:"error"})})},onCancel:function(){this.$router.push("/navpageedit")},handleRemove:function(e,t){},handlePreview:function(e){},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))}},created:function(){var e=this;this.tinymceInit={skin_url:"/client/dist/tinymce/skins/ui/oxide",language_url:"/client/dist/tinymce/langs/zh_CN.js",language:"zh_CN",height:document.body.offsetHeight-300,browser_spellcheck:!0,branding:!1,statusbar:!1,paste_data_images:!0,menubar:!1,plugins:"advlist table lists paste preview fullscreen image media link",toolbar:"fontselect fontsizeselect forecolor backcolor bold italic underline strikethrough link | alignleft aligncenter alignright alignjustify | imageUpload media quicklink h2 h3 blockquote table numlist bullist preview fullscreen",images_upload_url:"postAcceptor.php",automatic_uploads:!1,file_browser_callback:function(e,t,a,i){i.document.getElementById(e).value="my browser value"},file_browser_callback_types:"file image media",setup:function(t){t.ui.registry.addButton("imageUpload",{tooltip:"插入图片",icon:"image",onAction:function(){var t=e.$refs.imageUpload.$refs["upload-inner"];t.handleClick()}})}},this.getPageContent()},activated:function(){this.tinymceFlag++},mounted:function(){}}),Ne=Re,Me=(a("82c1"),Object(d["a"])(Ne,Pe,Ae,!1,null,"7bb4fd38",null)),Le=Me.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fillcontain"},[a("div",{staticClass:"table-container"},[a("el-button",{staticClass:"btnRight",attrs:{type:"primary",size:"medium",icon:"el-icon-plus"},on:{click:function(t){return e.handleAdd()}}},[e._v("添加頁籤")]),e.tableData.length>0?a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"max-height":"1000"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btnRight",attrs:{type:"success",icon:"el-icon-plus",size:"medium"},on:{click:function(a){return e.handleArticleAdd(t.row.page_group_id)}}},[e._v("新增內文")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.row.page_content,"max-height":"1000",align:"center"}},[a("el-table-column",{staticStyle:{width:"30%"},attrs:{prop:"page_name",label:"分頁名稱",align:"center"}}),a("el-table-column",{staticStyle:{width:"50%"},attrs:{label:"備註",prop:"remark",align:"center"}}),a("el-table-column",{staticStyle:{width:"20%"},attrs:{label:"操作",prop:"operation",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"medium"},on:{click:function(a){return e.handleArticleEdit(t.$index,t.row.page_content_id,t.row.page_name)}}},[e._v("內文编輯")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"medium"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}],null,!0)})],1)]}}],null,!1,3758358224)}),a("el-table-column",{staticStyle:{width:"30%"},attrs:{label:"群組名稱",prop:"group_name",align:"center"}}),a("el-table-column",{staticStyle:{width:"50%"},attrs:{label:"備註",prop:"remark",align:"center"}}),a("el-table-column",{staticStyle:{width:"20%"},attrs:{label:"操作",prop:"operation",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",icon:"el-icon-edit",size:"medium"},on:{click:function(a){return e.handleEdit(t.$index,t.row.page_group_id,t.row.group_name)}}},[e._v("编輯")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"medium"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}],null,!1,1948248600)})],1):e._e(),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.paginations.page_index,"page-sizes":e.paginations.page_sizes,"page-size":e.paginations.page_size,layout:e.paginations.layout,total:e.paginations.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.paginations,"page_index",t)},"update:current-page":function(t){return e.$set(e.paginations,"page_index",t)}}})],1)])],1)],1),a("navpage-dialog",{attrs:{dialog:e.dialog,formData:e.formData},on:{update:e.getProfile}})],1)},He=[],Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navpage-dialog"},[a("el-dialog",{attrs:{title:e.dialog.title,visible:e.dialog.show,"close-on-click-modal":!1,"close-on-press-escape":!1,"modal-append-to-body":!1},on:{"update:visible":function(t){return e.$set(e.dialog,"show",t)}}},[a("div",{staticClass:"form"},[a("el-form",{ref:"form",staticStyle:{margin:"10px",width:"auto","font-size":"20px"},attrs:{model:e.formData,rules:e.form_rules,"label-width":"120px",size:"medium"}},[a("el-form-item",{attrs:{prop:"page_group_name",label:"名稱:"}},[a("el-input",{attrs:{type:"page_group_name"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit("form")}},model:{value:e.formData.page_group_name,callback:function(t){e.$set(e.formData,"page_group_name",t)},expression:"formData.page_group_name"}})],1),a("el-form-item",{staticClass:"text_right"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提交")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialog.show=!1}}},[e._v("取消")])],1)],1)],1)])],1)},Je=[],Ke={name:"dialog",data:function(){return{form_rules:{page_group_name:[{required:!0,message:"名稱不能为空！",trigger:"blur"}]}}},props:{dialog:Object,formData:Object},methods:{onSubmit:function(e){var t=this,a="edit"===this.dialog.option?"EditNav":"AddNav";this.$refs[e].validate(function(e){e&&t.$axios.post("https://sniweb.shouting.feedia.co/php/".concat(a,".php?sid=").concat(window.$cookies.get("sid")),K()(t.formData)).then(function(e){"Y"===e.data.status?(t.$message({message:e.data.message,type:"success"}),t.dialog.show=!1,t.$emit("update")):(t.$message({message:e.data.message,type:"error"}),t.dialog.show=!1,t.$emit("update"))})})}}},Qe=Ke,Ve=(a("1bb4"),Object(d["a"])(Qe,Be,Je,!1,null,"cc15a7fa",null)),We=Ve.exports,Xe={name:"navpagelist",components:{"navpage-dialog":We},data:function(){return{filterTableData:[],paginations:{page_index:1,total:0,page_size:15,page_sizes:[15,20,25,30],layout:"total, sizes, prev, pager, next, jumper"},tableData:[],allTableData:[],formData:{page_group_id:"",group_name:"",page_content:[]},dialog:{show:!1,title:"",option:"edit"},editorData:{page_id:"",page_name:""},editor:{show:!1,option:"edit"}}},computed:{user:function(){return this.$store.getters.user}},created:function(){this.getProfile()},methods:{getProfile:function(){var e=this;this.$axios.get("https://sniweb.shouting.feedia.co/php/GetNav.php?&r=".concat((new Date).getTime())).then(function(t){e.allTableData=t.data,e.filterTableData=t.data,e.setPaginations()}).catch(function(e){return console.log(e)})},setPaginations:function(){var e=this;this.paginations.total=this.allTableData.length,this.paginations.page_index=1,this.paginations.page_size=15,this.tableData=this.allTableData.filter(function(t,a){return a<e.paginations.page_size})},handleEdit:function(e,t,a){this.dialog={show:!0,title:"修改頁籤",option:"edit"},this.formData={page_group_id:t,page_group_name:a}},handleDelete:function(e,t){var a=this,i=t.page_group_id?"DeleteNav":"DeleteContent",n="DeleteNav"===i?{page_group_id:t.page_group_id}:{page_id:t.page_content_id};this.$axios.post("https://sniweb.shouting.feedia.co/php/".concat(i,".php?sid=").concat(window.$cookies.get("sid")),K()(n)).then(function(e){"Y"===e.data.status?(a.$message({message:e.data.message,type:"warning"}),a.getProfile()):a.$message({message:e.data.message,type:"error"})})},handleAdd:function(){this.dialog={show:!0,title:"新增頁籤",option:"add"},this.formData={page_group_id:"",page_group_name:""}},handleSizeChange:function(e){this.paginations.page_index=1,this.paginations.page_size=e,this.tableData=this.allTableData.filter(function(t,a){return a<e})},handleCurrentChange:function(e){for(var t=this.paginations.page_size*(e-1),a=this.paginations.page_size*e,i=[],n=t;n<a;n++)this.allTableData[n]&&i.push(this.allTableData[n]),this.tableData=i},handleSearch:function(){if(!this.search_data.startTime||!this.search_data.endTime)return this.$message({type:"warning",message:"請選擇時間區間"}),void this.getProfile();var e=this.search_data.startTime.getTime(),t=this.search_data.endTime.getTime();this.allTableData=this.filterTableData.filter(function(a){var i=new Date(a.date),n=i.getTime();return n>=e&&n<=t}),this.setPaginations()},handleArticleEdit:function(e,t,a){this.$router.push("/navpageedit/edit/".concat(t))},handleArticleAdd:function(e){this.$router.push({name:"add",params:{page_group_id:e}})}}},Ze=Xe,et=(a("37aa"),Object(d["a"])(Ze,Ye,He,!1,null,"2b75a162",null)),tt=et.exports,at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body"},[a("div",{staticClass:"upload"},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.uploadUrl,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!1,"on-success":e.uploadSuccess}},[a("el-button",{attrs:{slot:"trigger",size:"medium",type:"primary"},slot:"trigger"},[e._v("從電腦尋找圖片")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"medium",type:"success"},on:{click:e.submitUpload}},[e._v("上傳到伺服器")]),a("el-button",{staticStyle:{float:"right"},attrs:{size:"medium",type:"success"},on:{click:e.sendSelectImage}},[e._v("送出選取圖片")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上傳jpg/png/gif檔案，且不超過2MB，已上傳圖片會在下方顯示")])],1)],1),a("div",{staticClass:"transfer"}),a("div",{staticClass:"slider"},[a("el-row",e._l(e.images,function(t,i){return a("el-col",{key:i,staticClass:"imageContainer",attrs:{span:4,offset:2},on:{click:function(t){e.index=i}}},[a("el-card",{attrs:{"body-style":{padding:"15px"}}},[a("img",{staticClass:"image",attrs:{src:t},on:{click:function(t){e.index=i}}}),a("div",{staticStyle:{padding:"10px"}},[a("div",{staticClass:"bottom clearfix"},[a("el-checkbox-group",{staticClass:"imageText",attrs:{size:"medium"},model:{value:e.checkboxGroup,callback:function(t){e.checkboxGroup=t},expression:"checkboxGroup"}},[a("el-checkbox",{attrs:{label:""+e.checkboxText+(i+1),circle:""}})],1),a("el-button",{staticClass:"deleteBtn",attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"medium"},on:{click:function(t){return e.deleteImage(i)}}},[e._v("刪除")])],1)])])],1)}),1),a("vueGallerySlideshow",{attrs:{images:e.images,index:e.index},on:{close:function(t){e.index=null}}})],1),a("slider-dialog",{attrs:{dialog:e.dialog,formData:e.formData},on:{update:e.getImages}})],1)},it=[],nt=(a("c5f6"),a("ac6a"),a("b417")),st=a.n(nt),ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slider-dialog"},[a("el-dialog",{attrs:{title:e.dialog.title,visible:e.dialog.show,"close-on-click-modal":!1,"close-on-press-escape":!1,"modal-append-to-body":!1},on:{"update:visible":function(t){return e.$set(e.dialog,"show",t)}}},[a("div",{staticClass:"form"},[a("el-form",{ref:"form",staticStyle:{margin:"10px",width:"auto"},attrs:{model:e.formData,rules:e.form_rules,"label-width":"120px"}},[a("el-form-item",{staticClass:"title",attrs:{prop:"link_url",label:"連結網址:"}},[a("el-input",{attrs:{type:"link_url"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit("form")}},model:{value:e.formData.link_url,callback:function(t){e.$set(e.formData,"link_url",t)},expression:"formData.link_url"}})],1),a("el-form-item",{staticClass:"text_right"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.dialog.show=!1}}},[e._v("取消")])],1)],1)],1)])],1)},rt=[],lt={name:"dialog",data:function(){return{form_rules:{link_url:[{required:!0,message:"內容不能为空！",trigger:"blur"}]}}},props:{dialog:Object,formData:Object},methods:{onSubmit:function(e){var t=this,a="edit"===this.dialog.option?"EditCarousel":"AddCarousel",i=null;if("edit"===this.dialog.option){var n=location.href,s=n.split("/carousel/selectcarousel/");i=s[s.length-1]}this.$refs[e].validate(function(e){e&&t.formData.images.forEach(function(e,n){var s=e.replace("\\","/"),o={image_url:"".concat(s),link_url:t.formData.link_url,carousel_id:i};t.$axios.post("https://sniweb.shouting.feedia.co/php/".concat(a,".php?sid=").concat(window.$cookies.get("sid")),K()(o)).then(function(e){"Y"===e.data.status?(t.$message({message:e.data.message,type:"success"}),t.dialog.show=!1,t.$emit("update"),t.$router.push("/carousel")):(t.$message({message:e.data.message,type:"error"}),t.dialog.show=!1,t.$emit("update"))}).catch(function(e){return console.log(e)})})})}}},ct=lt,ut=(a("d737"),Object(d["a"])(ct,ot,rt,!1,null,"49bf4826",null)),dt=ut.exports,pt={components:{vueGallerySlideshow:st.a,"slider-dialog":dt},data:function(){return{uploadUrl:"https://sniweb.shouting.feedia.co/php/PictureUpload.php?sid=".concat(window.$cookies.get("sid"),"&r=").concat((new Date).getTime()),url:"https://sniweb.shouting.feedia.co/php",checkboxText:"圖片",index:null,fileList:[],images:[],resouseImages:[],checkboxGroup:[],dialog:{show:!1,title:"",option:""},formData:{link_url:"",images:""}}},created:function(){this.getImages()},methods:{getImages:function(){var e=this;this.$axios.get("https://sniweb.shouting.feedia.co/php/GetGallery.php?sid=".concat(window.$cookies.get("sid"),"&r=").concat((new Date).getTime())).then(function(t){if(t.data.status&&"N"===t.data.status)e.$message({message:"".concat(t.data.message),type:"error"});else{var a=[];e.resouseImages=[],e.checkboxGroup=[];var i=t.data.split(" <BR/>");i.forEach(function(t,i){t?(e.resouseImages.push("".concat(t)),a.push("".concat(e.url).concat(t))):a.splice(i,1)}),e.images=a}}).catch(function(e){return console.log(e)})},uploadSuccess:function(e,t){this.getImages()},sendSelectImage:function(e){var t=this.getSelectImage();t.length?(this.dialog={show:!0,title:"新增輪播圖網址",option:"add",imageUrl:this.url},this.formData={link_url:"",images:t}):this.$message({message:"請選取圖片",type:"warning"})},getSelectImage:function(){var e=this,t=[];return this.checkboxGroup.forEach(function(a){var i=Number(a.replace("".concat(e.checkboxText),""))-1,n=e.resouseImages[i].replace("".concat(e.url),"");t.push(n)}),t},deleteImage:function(e){var t=this;if(void 0!==e){var a=this.resouseImages[e].replace("\\","/"),i={file_path:"".concat(a)};this.$axios.post("https://sniweb.shouting.feedia.co/php/PictureDelete.php?sid=".concat(window.$cookies.get("sid")),K()(i)).then(function(e){t.getImages(),"Y"===e.data.status?(t.$message({message:e.data.message,type:"success"}),t.$emit("update")):t.$message({message:e.data.message,type:"error"})}).catch(function(e){return console.log(e)})}},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){},handlePreview:function(e){}}},mt=pt,ft=(a("522a"),Object(d["a"])(mt,at,it,!1,null,"29eec0dc",null)),gt=ft.exports,ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"imageTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"編號",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.index+1))]),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.date))])]}}])}),a("el-table-column",{attrs:{label:"縮圖",width:"500",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("div",{staticClass:"demo-image__preview"},[a("el-image",{staticStyle:{width:"200px",height:"200px"},attrs:{src:t.row.imageUrl,"preview-src-list":e.images}})],1),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{staticClass:"el-icon-picture",attrs:{size:"medium"}},[e._v(e._s(t.row.name))])],1)])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"medium"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"medium",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)},bt=[],_t={components:{vueGallerySlideshow:st.a},data:function(){return{tableData:[],images:[],url:"https://sniweb.shouting.feedia.co/php"}},created:function(){this.getCarousels()},methods:{getCarousels:function(){var e=this;this.tableData=[],this.images=[],this.$axios.get("https://sniweb.shouting.feedia.co/php/GetCarousels.php?sid=".concat(window.$cookies.get("sid"),"&r=").concat((new Date).getTime())).then(function(t){t.data.data.forEach(function(t,a){t["imageUrl"]="".concat(e.url).concat(t.image),t["index"]=a,e.images.push(t["imageUrl"]),e.tableData.push(t)})}).catch(function(e){return console.log(e)})},handleEdit:function(e,t){localStorage.link_url="".concat(t.url),this.$router.push("/carousel/selectcarousel/".concat(t.id))},handleDelete:function(e,t){var a=this,i={carousel_id:t.id};this.$axios.post("https://sniweb.shouting.feedia.co/php/DeleteCarousel.php?sid=".concat(window.$cookies.get("sid")),K()(i)).then(function(e){a.getCarousels(),"Y"===e.data.status?(a.$message({message:e.data.message,type:"success"}),a.$emit("update")):a.$message({message:e.data.message,type:"error"})}).catch(function(e){return console.log(e)})}}},vt=_t,wt=(a("6327"),Object(d["a"])(vt,ht,bt,!1,null,"2e7cc3b2",null)),yt=wt.exports,xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body"},[a("div",{staticClass:"upload"},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.uploadUrl,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!1,"on-success":e.uploadSuccess}}),a("el-button",{staticStyle:{float:"right"},attrs:{size:"medium",type:"success"},on:{click:e.sendSelectImage}},[e._v("送出選取圖片")])],1),a("div",{staticClass:"transfer"}),a("div",{staticClass:"slider"},[a("el-row",e._l(e.images,function(t,i){return a("el-col",{key:i,staticClass:"imageContainer",attrs:{span:4,offset:2},on:{click:function(t){e.index=i}}},[a("el-card",{attrs:{"body-style":{padding:"15px"}}},[a("img",{staticClass:"image",attrs:{src:t},on:{click:function(t){e.index=i}}}),a("div",{staticStyle:{padding:"10px"}},[a("div",{staticClass:"bottom clearfix"},[a("el-checkbox-group",{staticClass:"imageText",attrs:{size:"small",max:1},model:{value:e.checkboxGroup,callback:function(t){e.checkboxGroup=t},expression:"checkboxGroup"}},[a("el-checkbox",{attrs:{label:""+e.checkboxText+(i+1),circle:""}})],1)],1)])])],1)}),1),a("vueGallerySlideshow",{attrs:{images:e.images,index:e.index},on:{close:function(t){e.index=null}}})],1),a("slider-dialog",{attrs:{dialog:e.dialog,formData:e.formData},on:{update:e.getImages}})],1)},kt=[],$t={components:{vueGallerySlideshow:st.a,"slider-dialog":dt},data:function(){return{uploadUrl:"https://sniweb.shouting.feedia.co/php/PictureUpload.php?sid=".concat(window.$cookies.get("sid"),"&r=").concat((new Date).getTime()),url:"https://sniweb.shouting.feedia.co/php",carouselId:"",checkboxText:"圖片",index:null,fileList:[],images:[],resouseImages:[],checkboxGroup:[],dialog:{show:!1,title:"",option:""},formData:{link_url:"",images:""}}},created:function(){this.getImages()},methods:{getImages:function(){var e=this;this.$axios.get("https://sniweb.shouting.feedia.co/php/GetGallery.php?sid=".concat(window.$cookies.get("sid"),"&r=").concat((new Date).getTime())).then(function(t){var a=[];e.resouseImages=[],e.checkboxGroup=[];var i=t.data.split(" <BR/>");i.forEach(function(t,i){t?(e.resouseImages.push("".concat(t)),a.push("".concat(e.url).concat(t))):a.splice(i,1)}),e.images=a}).catch(function(e){return console.log(e)})},uploadSuccess:function(e,t){this.getImages()},sendSelectImage:function(e){var t=this.getSelectImage();t.length?(this.dialog={show:!0,title:"編輯輪播圖網址",option:"edit",imageUrl:this.url},this.formData={link_url:"".concat(localStorage.link_url),images:t}):this.$message({message:"請選取圖片",type:"warning"})},getSelectImage:function(){var e=this,t=[];return this.checkboxGroup.forEach(function(a){var i=Number(a.replace("".concat(e.checkboxText),""))-1,n=e.resouseImages[i].replace("".concat(e.url),"");t.push(n)}),t},deleteImage:function(e){var t=this;if(void 0!==e){var a=this.resouseImages[e].replace("\\","/"),i={file_path:"".concat(a)};this.$axios.post("https://sniweb.shouting.feedia.co/php/PictureDelete.php?sid=".concat(window.$cookies.get("sid")),K()(i)).then(function(e){t.getImages(),"Y"===e.data.status?(t.$message({message:e.data.message,type:"success"}),t.$emit("update")):t.$message({message:e.data.message,type:"error"})}).catch(function(e){return console.log(e)})}},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){},handlePreview:function(e){}}},Dt=$t,Ct=(a("a683"),Object(d["a"])(Dt,xt,kt,!1,null,"3383ce36",null)),St=Ct.exports,Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"imageTable"},[a("div",{staticClass:"upload"},[a("el-button",{staticStyle:{float:"right"},attrs:{size:"medium",type:"success"},on:{click:e.handleAdd}},[e._v("新增跑馬燈")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"編號",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.index+1))]),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.date))])]}}])}),a("el-table-column",{attrs:{label:"跑馬燈內容",width:"1000",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.text))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"medium"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"medium",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("marquee-dialog",{attrs:{dialog:e.dialog,formData:e.formData},on:{update:e.getMarquees}})],1)},Et=[],zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"marquee-dialog"},[a("el-dialog",{attrs:{title:e.dialog.title,visible:e.dialog.show,"close-on-click-modal":!1,"close-on-press-escape":!1,"modal-append-to-body":!1},on:{"update:visible":function(t){return e.$set(e.dialog,"show",t)}}},[a("div",{staticClass:"form"},[a("el-form",{ref:"form",staticStyle:{margin:"10px",width:"auto"},attrs:{model:e.formData,rules:e.form_rules,"label-width":"120px"}},[a("el-form-item",{staticClass:"title",attrs:{prop:"text",label:"文字內容:"}},[a("el-input",{style:e.style,attrs:{type:"text"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit("form")}},model:{value:e.formData.text,callback:function(t){e.$set(e.formData,"text",t)},expression:"formData.text"}})],1),a("el-form-item",{staticClass:"title",attrs:{prop:"color",label:"文字顏色:"}},[a("el-color-picker",{model:{value:e.formData.color,callback:function(t){e.$set(e.formData,"color",t)},expression:"formData.color"}})],1),a("el-form-item",{staticClass:"text_right"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.dialog.show=!1}}},[e._v("取消")])],1)],1)],1)])],1)},Ut=[],Ot={name:"dialog",data:function(){return{form_rules:{text:[{required:!0,message:"內容不能为空！",trigger:"blur"}]}}},props:{dialog:Object,formData:Object},computed:{style:function(){return"color: "+this.formData.color}},methods:{onSubmit:function(e){var t=this,a="edit"===this.dialog.option?"EditMarquee":"AddMarquee";this.$refs[e].validate(function(e){e&&t.$axios.post("https://sniweb.shouting.feedia.co/php/".concat(a,".php?sid=").concat(window.$cookies.get("sid")),K()(t.formData)).then(function(e){"Y"===e.data.status?(t.$message({message:e.data.message,type:"success"}),t.dialog.show=!1,t.$emit("update")):(t.$message({message:e.data.message,type:"error"}),t.dialog.show=!1,t.$emit("update"))})})}}},jt=Ot,It=(a("d18f"),Object(d["a"])(jt,zt,Ut,!1,null,"3b9f33f9",null)),Pt=It.exports,At={components:{"marquee-dialog":Pt},data:function(){return{tableData:[],dialog:{show:!1,title:"",option:"edit"},formData:{marquee_id:"",text:"",color:""}}},created:function(){this.getMarquees()},methods:{getMarquees:function(){var e=this;this.tableData=[],this.$axios.get("https://sniweb.shouting.feedia.co/php/GetMarquees.php?sid=".concat(window.$cookies.get("sid"),"&r=").concat((new Date).getTime())).then(function(t){t.data.data.forEach(function(t,a){t["index"]=a,e.tableData.push(t)})}).catch(function(e){return console.log(e)})},handleAdd:function(){this.dialog={show:!0,title:"新增跑馬燈",option:"add"},this.formData={text:"",color:""}},handleEdit:function(e,t){this.dialog={show:!0,title:"編輯跑馬燈",option:"edit"},this.formData={marquee_id:t.id,text:t.text,color:t.color}},handleDelete:function(e,t){var a=this,i={marquee_id:t.id};this.$axios.post("https://sniweb.shouting.feedia.co/php/DeleteMarquee.php?sid=".concat(window.$cookies.get("sid")),K()(i)).then(function(e){a.getMarquees(),"Y"===e.data.status?(a.$message({message:e.data.message,type:"success"}),a.$emit("update")):a.$message({message:e.data.message,type:"error"})}).catch(function(e){return console.log(e)})}}},qt=At,Gt=(a("b748"),Object(d["a"])(qt,Tt,Et,!1,null,"b2ca168e",null)),Ft=Gt.exports;i["default"].use(w["a"]);var Rt=new w["a"]({base:"/client/dist/",routes:[{path:"/",redirect:"/index"},{path:"/index",name:"index",component:G,children:[{path:"",component:ne["default"]},{path:"/home",name:"home",component:ne["default"]},{path:"/infoshow",name:"infoshow",component:ue},{path:"/articlelist",name:"articlelist",component:xe},{path:"/slider",name:"slider",component:gt},{path:"/carousel",name:"carousel",component:yt},{path:"/carousel/selectcarousel/:id",name:"selectcarousel",component:St},{path:"/navpageedit",name:"navpageedit",component:tt},{path:"/fundlist",name:"fundlist",component:Ie},{path:"/navpageedit/edit/:id",name:"edit",component:Le},{path:"/navpageedit/add/",name:"add",component:Le},{path:"/marquee",name:"marquee",component:Ft}]},{path:"/register",name:"register",component:Y},{path:"/login",name:"login",component:X},{path:"*",name:"/404",component:ie}]});Rt.beforeEach(function(e,t,a){var i=!!window.$cookies.isKey("sid");"/login"===e.path||"/register"===e.path?a():i?a():a("/login")});var Nt=Rt;var Mt,Lt=v.a,Yt=a("bd86"),Ht=a("2f62");i["default"].use(Ht["a"]);var Bt={SET_AUTHENTICATED:"SET_AUTHENTICATED",SET_USER:"SET_USER"},Jt={isAuthenticated:!1,user:{}},Kt={isAuthenticated:function(e){return e.isAuthenticated},user:function(e){return e.user}},Qt=(Mt={},Object(Yt["a"])(Mt,Bt.SET_AUTHENTICATED,function(e,t){e.isAuthenticated=t||!1}),Object(Yt["a"])(Mt,Bt.SET_USER,function(e,t){e.user=t||{}}),Mt),Vt={setAuthenticated:function(e,t){var a=e.commit;a(Bt.SET_AUTHENTICATED,t)},setUser:function(e,t){var a=e.commit;a(Bt.SET_USER,t)},clearCurrentState:function(e){var t=e.commit;t(Bt.SET_AUTHENTICATED,!1),t(Bt.SET_USER,null)}},Wt=new Ht["a"].Store({state:Jt,getters:Kt,mutations:Qt,actions:Vt});i["default"].config.productionTip=!1,i["default"].use(b.a),i["default"].use(g.a),i["default"].prototype.$axios=Lt,i["default"].prototype.$cookies=g.a,new i["default"]({router:Nt,store:Wt,render:function(e){return e(m)}}).$mount("#app")},"5ed1":function(e,t,a){"use strict";var i=a("3d4e"),n=a.n(i);n.a},6327:function(e,t,a){"use strict";var i=a("fe6c"),n=a.n(i);n.a},"64a9":function(e,t,a){},"708e":function(e,t,a){},"7ad4":function(e,t,a){"use strict";var i=a("9cae"),n=a.n(i);t["default"]=n.a},"7ceb":function(e,t,a){},"82c1":function(e,t,a){"use strict";var i=a("ee8f"),n=a.n(i);n.a},"847d":function(e,t,a){"use strict";var i=a("c2c4"),n=a.n(i);n.a},"87bc":function(e,t,a){"use strict";var i=a("fab6"),n=a.n(i);n.a},"9a1e":function(e,t,a){},"9cae":function(e,t){},a683:function(e,t,a){"use strict";var i=a("ca58"),n=a.n(i);n.a},a8e4:function(e,t,a){"use strict";var i=a("7ceb"),n=a.n(i);n.a},abd0:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"title"},[e._v("生長之家")]),a("p",{staticClass:"lead"},[e._v("歡迎進入生長之家網頁管理系統")])])])}];a.d(t,"a",function(){return i}),a.d(t,"b",function(){return n})},b748:function(e,t,a){"use strict";var i=a("56c8"),n=a.n(i);n.a},bb51:function(e,t,a){"use strict";var i=a("abd0"),n=a("7ad4"),s=(a("a8e4"),a("2877")),o=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,"8b246132",null);t["default"]=o.exports},bbf7:function(e,t,a){},c2c4:function(e,t,a){},c73c:function(e,t,a){},c932:function(e,t,a){"use strict";var i=a("15f1"),n=a.n(i);n.a},ca58:function(e,t,a){},cd31:function(e,t,a){"use strict";var i=a("33a0"),n=a.n(i);n.a},cf05:function(e,t,a){e.exports=a.p+"assets/img/logo.e57b7e87.png"},d009:function(e,t,a){},d18f:function(e,t,a){"use strict";var i=a("c73c"),n=a.n(i);n.a},d300:function(e,t,a){"use strict";var i=a("9a1e"),n=a.n(i);n.a},d737:function(e,t,a){"use strict";var i=a("235f"),n=a.n(i);n.a},dd83:function(e,t,a){},ee8f:function(e,t,a){},f2e0:function(e,t,a){"use strict";var i=a("dd83"),n=a.n(i);n.a},fab6:function(e,t,a){},fe6c:function(e,t,a){},fea6:function(e,t,a){"use strict";var i=a("36b2"),n=a.n(i);n.a}});
//# sourceMappingURL=app.41258d03.js.map